https://zhuanlan.zhihu.com/p/276080506
SDK全称是“Software Development Kit”，直译就是软件开发工具集。说的再通俗点就是一个面向开发者，针对特定领域的软件包。比较规范的SDK一般都会包含若干的API、开发工具集和说明文档。
### 设计原则
-**最小可用性原则，即用最少的代码，如无必要勿增实体**
-**最少依赖原则，即最低限度的外部依赖，如无必要勿增依赖**
### 满足功能需求
SDK一般都是偏于面向某个领域，所以，同时在设计和实现的时候明确职责和边界很重要，同时还应该足够精简，专注领域内的业务。
### 足够稳定
-**绝不能导致宿主应用崩溃**，这是最基础也是最严格的要求
-**较好的性能**，比如SDK体积应尽量小，运行速度尽量快
-**可测试**，保障每一次变更
-**向后兼容**，不轻易出现 Breakchange
### 少依赖，易扩展
-**最小程度的第三方依赖**，尽可能自行实现，确实无法避免则最小化引入
-**插件化**，最大限度支持扩展
-**Hook机制**，满足个性化诉求
### 职责，边界
功能，性能
### 框架设计
SDK整体而言是一个大模块，前端模块有多种表现形式：ES Module、CommonJS、AMD/CMD/UMD，而在引用方面则大体分 CDN和 NPM两种。即无论我们实现的是哪种形式的模块，最终都是通过CDN或者NPM的方式提供给用户引用
### **SDK的版本管理机制**
### **SDK的基础接口**
-**职责单一**
-一个接口只做一件事情
-**命名简单清晰**，参数尽量少但可扩展
-好的接口命名就是最好的注释，一看即明其用处
-参数尽可能适用 Object封装
-**做好参数校验和逻辑保护**

3.3##  领域分析，模块划分
3.4##  测试覆盖，线上无忧
3.5##  细节打磨，极致体验
-动态采样
即通过云端下发数据采样率的方式，控制客户端上报数据的频率
更好的保护监控下游
-自我诊断
除了接口，SDK整体对用户而言就是一个黑盒，因此用户在遇到问题时很容易蒙圈 (如：为啥没有上报数据)
SDK可以提供一个自我诊断的接口，快速排除基础问题
比如，SDK是否已正常初始化、关键参数是否正常设置等
增加调试模式，输出更详细的过程日志，方便定位问题
-渐进式的指引文档
图文并茂，循序渐进
入门，一步步引导用户初识SDK，领略概貌，学会基本的使用
进阶，安利SDK的深度用法，帮助用户更好的使用SDK

## 白板
es.js
```js 
// rollup.config.js配置打包为es
export default {
  input: './src/index.ts',
  output: {
    format: 'es',
    name: 'WhiteBoard',
    file: `dist/WhiteBoard.es.js`,
    sourcemap: genSourceMap,
    exports: 'auto',
  },
  plugins,
  onwarn: (message) => {
    // 忽略外部包的告警
    if (/node_modules/.test(message.id)) return;
    console.warn(message.toString());
  },
  watch: {
    include: 'src/**',
  },
};
// sketch.vue中引入
import { Sketch } from '../../../dist/WhiteBoard.es.js';
```
